<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>エレベーターシミュレーター</title>
<style>
  .building { display: flex; flex-direction: column-reverse; align-items: flex-end; height: 600px; overflow: hidden; position: relative; }
  .floor { border: 1px solid #000; padding: 10px; width: 200px; height: 50px; }
  .elevator { width: 50px; height: 50px; background-color: #666; position: absolute; bottom: 0; transition: bottom 1s; }
  .button { padding: 5px; }
</style>
</head>
<body>

<h1>エレベーターシミュレーター</h1>

<label for="floors">階数選択（3～64階）:</label>
<input type="number" id="floors" value="12" min="3" max="64">
<button onclick="setupFloors()">階数更新</button>

<div id="building" class="building"></div>

<script>
document.addEventListener('DOMContentLoaded', setupFloors); // ページロード時に階数セットアップ

function setupFloors() {
  const building = document.getElementById('building');
  building.innerHTML = ''; // 既存の階層をクリア
  let totalFloors = parseInt(document.getElementById('floors').value);
  let floorHeight = building.clientHeight / totalFloors;

  for (let i = 0; i < totalFloors; i++) {
    const floor = document.createElement('div');
    floor.className = 'floor';
    floor.style.height = `${floorHeight}px`; // 各階の高さを設定
    floor.innerHTML = `Floor ${i + 1} <button class="button" onclick="moveElevator(${i * floorHeight})">Call Elevator</button>`;
    building.appendChild(floor);
  }

  // エレベーターの要素を追加
  const elevator = document.createElement('div');
  elevator.id = 'elevator';
  elevator.className = 'elevator';
  elevator.style.height = `${floorHeight}px`; // エレベーターの高さを設定
  building.appendChild(elevator);
}

function moveElevator(floorPosition) {
  const elevator = document.getElementById('elevator');
  elevator.style.bottom = `${floorPosition}px`; // bottomプロパティでエレベーターを移動
}

</script>

</body>
</html>
